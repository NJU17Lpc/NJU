# Spark图计算

- SNA 社交网络分析火爆，spark提供了graphx
- 图相关的计算库，一般提供三类接口
  - 图生成，访问图数据，图算法
- 应用：推荐商品，推荐好友
- 因为计算量大，所以要并行化，graphx就是用来做**并行图计算**

## GraphX实现

#### 1、核心数据结构: Graph

- “多重图”：一对源、目的节点，中间允许多条边
- 组成：VertexRDD[VD] + EdgeRDD[ED]
- GraphX内部维护了**3个RDD**来存1个图
  - Vertex Table: 顶点信息
  - Edge Table: 边信息
  - Routing Table: 用来查询顶点存储在哪个计算节点上
- 计算案例，略

#### 2、常用API

- 数据查询
- 数据转换
- 结构转换
- 关联聚合
  - 关联类API是把一个图和一个RDD通过节点VertexID关联，让图获得RDD中信息
- 缓存操作

## 应用场景

- 把人归属到不同群体，即把网络各个节点划分到不同含义的集合（子图）
- 算法思路
  1. 分离：找出社区之间边，把这些边移除
  2. 聚合：将紧密联系的节点聚合为一个社区





























