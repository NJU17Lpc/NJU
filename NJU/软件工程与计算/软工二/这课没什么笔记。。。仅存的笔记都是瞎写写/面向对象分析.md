# 面向对象分析

## 整个过程

- 系统用例图
- 用例模型/用例描述
- 概念类图/领域模型
- 交互图（顺序图）、状态图、对象约束语言

## 用例

- 定义（两种称述）
  - 在系统（或者子系统或者类）和外部对象的交互当中所执行的**<u>行为序列的描述</u>**，包括各种不同的序列和错误的序列，它们能够联合提供一种有价值的服务
  - 用例描述了在不同条件下，系统对某一用户的**<u>请求的响应</u>**。根据用户的请求和请求时的系统条件，系统将执行不同的行为序列，每一个行为序列被称为一个场景。**<u>一个用例是多个场景的集合</u>**
- 用例图
  - **基本元素（要做出一定的解释）**
    - **用例**
    - **参与者**
    - **关系**
    - **系统边界**
  - 怎么画
    - 进行目标分析，确立项目目标（目测是写个标题：xxx系统）
    - 寻找参与者，发现与系统功能相关的参与者
    - 寻找用例，可以根据找到的参与者来寻找用例，每个参与者的一个目标（或任务）就是一个系统用例
    - 细化用例
      - <u>**判断用例粒度的准则：**</u>
        - <u>**用例描述了为应对一个业务事件，由一个用户发起，并在一个连续时间段内完成，可以增加业务价值的任务**</u>
        - 不要把用例细化成单个操作
          - **“用户管理”不能细化为“增加”、“删除”、“修改”**
          - **他们联合起来才会有业务价值**
        - 不要把同一个业务目标细化为不同用例
          - “特价策略制定”用例和“赠送策略制定”用例，应该合成一个
          - 因为他们的业务目的、发起源和过程基本相同，只是业务数据不同
          - 但是像“库存分析”、“商品入库”、“商品出库”不要合到一起“库存管理”，他们有各自不同的业务目标
        - 不要将没有业务价值的内容作为用例
          - 例如
            - 登陆（应该是安全需求）
            - 数据验证（应该是数据需求）
            - 连接数据库（应该是软件内部的实现）
  - 大道理知道，考前还是要多看一点案例，顺便对几个要素进行解释

## 用例描述

- 就是文本方式，将参与者、目标、场景描述一下
- 由参与者、触发条件、前置条件、后置条件、正常流程、扩展流程、特殊需求
- 要点
  - **<u>一定是“交互”的</u>**
  - **<u>尽可能不涉及界面、按钮、方法等描述</u>**

## 概念类图（领域模型）

- UML类图
- <u>分析阶段的类图与设计阶段的**不同**</u>
  - <u>**关注系统与外界的交互**</u>
  - <u>**不关注软件系统内部的构造**</u>
  - <u>**类型、方法、可见性这些构造细节不会出现**</u>
  - <u>**所以叫概念类**</u>
- 基本元素和意义
  - 对象
    - 有属性列表和取值
    - 没有方法列表
  - 类
    - 有属性列表
    - 有方法列表，但是里面没有明确的方法名（就是放一项在那里玩的）
  - 链接
    - 系统中对象之间相互协作的关系，叫链接
    - 可以单向可以双向
    - 如果单向，a到b，表示：a能够在链接的指引下，正确地找到并将消息发给b
  - 关联
    - 类之间的关系叫做关联
    - 如果两个类之间没有关联，则两个类的对象实例之间就不存在链接，就不能相互协作
    - UML用直线表示关联（链接）
  - 类之间还有特殊关系叫聚合
    - **表示<u>部分与整体</u>之间的关系**
    - **整体的关联端用空心菱形**
    - 聚合只是整体包含部分
      - 如果整体还会对部分有完全的管理职责
        - 就叫组合
        - 把聚合的空心菱形换成实心的
  - 继承
    - 带三角形箭头的实线
- 怎么建立这个概念类图
  1. 对每个用例的文本描述，建立局部的概念类图
     - 根据用例的文本描述，识别候选类
       - 从中识别出相关的**名词和名词短语**，将他们作为候选
     - 筛选候选类，确定概念类
       - **确定概念类的准则**
         - **依据系统的需求，该类的对象实例的状态与行为是否全部必要**
         - 要维护状态，且表现行为，则确定为概念类
         - 例如一个类，他只需要维护状态，没有行为，那么他会成为其他概念类的属性
         - 但如果他不用维护状态，却要表现行为
           - 检查是不是遗漏了需求，因为没有状态支持的对象无法表现行为
         - 两者都不需要，直接剔除
       - **确定概念类的过程参考书p102(一定要看)**
     - 识别关联
       - 发现概念类之间的协作
       - 分析关系，例如整体部分关系，但对问题域关系的补充要适可而止
     - 识别重要属性
       - 分析每个类的重要属性时，可能不多，有些概念类可能没有任何重要属性
       - 但合并所有局部概念类图后，各个概念类的重要属性会显示出来
  2. 将所有用例产生的局部概念类图进行合并，建立软件系统的整体概念类图

## 交互图，对象状态图，不想写